version: v0.1.0-beta
name: headlamp_kubescape
displayName: Kubescape Headlamp Plugin
createdAt: '2024-09-19T16:35:19Z'
description: Kubescape compliance and vulnerabilities in Headlamp.
homeURL: https://github.com/Kubebeam/kubescape-headlamp-plugin
logoURL: https://avatars.githubusercontent.com/u/100554170
links:
  - name: Headlamp
    url: https://github.com/headlamp-k8s/headlamp
  - name: Kubescape operator
    url: https://kubescape.io/docs/operator/
screenshots:
  - title: Compliance
    url: https://github.com/Kubebeam/kubescape-headlamp-plugin/blob/main/demo/compliance.png
  - title: Vulnerabilities
    url: https://github.com/Kubebeam/kubescape-headlamp-plugin/blob/main/demo/vulnerabilities.png

annotations:
  headlamp/plugin/archive-url: https://github.com/Kubebeam/kubescape-headlamp-plugin/releases/download/v0.1.0-beta/kubescape-headlamp-plugin-v0.1.0-beta.tar.gz
  headlamp/plugin/archive-checksum: SHA256:40c6806893397f21db4ed0ab970b243bdc6615e1c201b932c4e291b56ff5d055
  headlamp/plugin/version-compat: '>=0.25'
  headlamp/plugin/distro-compat: in-cluster,web,docker-desktop,desktop
readme: |

  ## Kubescape Headlamp plugin

  The Kubescape Headlamp plugin provides an open source plugin for Headlamp. It builds upon the work of [Kubescape](https://kubescape.io/) and [Headlamp](https://github.com/headlamp-k8s/headlamp).

  Headlamp is a dashboard for Kubernetes, and is extensible with plugins. Kubescape is a security platform protecting against configuration issues and image vulnerabilities.

  The Kubescape Headlamp plugin provides views in Headlamp for configuration and vulnerabilities scanning, based on information delivered by the Kubescape operator.

  ## Prerequisites

  - [Kubescape operator](https://kubescape.io/docs/operator/) should be installed in the k8s cluster and enabled for configuration and image scanning.
    We recommend Kubescape operator helm chart v1.22.0 or later with `capabilities.continuousScan: enable`.

    If the operator is working, custom resources are generated. You can test this with e.g. `kubectl get workloadconfigurationscans -A`.

  - [Headlamp](https://github.com/headlamp-k8s/headlamp) should be installed in the k8s cluster or workstation. For a quick test the desktop version is recommended.

  The plugin has been tested with Headlamp v0.25.0 (browser and desktop) and kubescape operator helm chart v1.22.0.

  ## Use cases

  The use cases support navigating to the information from different user perspectives.

  For inspecting namespaces or deployments, navigate in the k8s pages of Headlamp:

  - View a namespace, see a summary of configuration issues and vulnerabilities
  - View a resource (e.g. Deployment), see a summary of configuration issues

  For an overview of compliance in a cluster:

  - View controls
  - View resources
  - View namespaces

  For an overview of vulnerabilty scanning in a cluster:

  - View CVEs
  - View workloads
  - View images

  The plugin supports multitenant clusters with help of the [allowed namespaces](https://headlamp.dev/docs/latest/faq/#i-cannot-access-any-section-in-my-cluster-it-keeps-saying-access-denied) cluster setting.

install: |
  The installation files can be found on the release page in github. Here you can download the tarball.

  For desktop versions of Headlamp, find the plugin folder, create a new folder kubescape-plugin, extract the `main.js` and `package.json` from the tarball.

  For in-cluster Headlamp deployments, the installation files need to be added to the plugin folder of the headlamp deployment. 
  A simple solution is to download the plugin files with an initContainer. See [example helm values](https://github.com/Kubebeam/kubescape-headlamp-plugin/blob/main/examples/headlamp-helm-values.yaml).
  The guidance from headlamp for in-cluster deployment is to create a container image with the plugin artifacts: https://headlamp.dev/blog/2022/10/20/best-practices-for-deploying-headlamp-with-plugins/.
